<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload Project - Projexia</title>
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/headerAndNavigationBar.css" />
    <link rel="stylesheet" href="/css/footer.css" />
    <link rel="stylesheet" href="/css/modal.css" />
    <link rel="stylesheet" href="/css/uploadProject.css" />
  </head>
  <body>
    <%- include('headerAndNavigationBar') %>
    
    <main class="upload-main">
      <div class="upload-container">
        <div class="upload-header">
          <h1>Upload New Project</h1>
          <p>Share your work with the CCS community</p>
        </div>

        <div id="errorMessage" class="form-error"></div>
        <div id="successMessage" class="form-success"></div>

        <form id="uploadForm" class="upload-form" novalidate enctype="multipart/form-data">
          
          <!-- Images Section -->
          <div class="form-section">
            <h2 class="section-title">Project Images</h2>
            
            <div class="form-group">
              <label for="thumbnail">Thumbnail <span class="required">*</span></label>
              <input type="file" id="thumbnail" name="thumbnail" accept="image/*" required class="file-input" />
              <small class="form-hint">Required: 1 thumbnail image for project preview</small>
            </div>

            <div class="form-group">
              <label for="images">Project Images <span class="required">*</span></label>
              <input type="file" id="images" name="images" accept="image/*" multiple required class="file-input" />
              <small class="form-hint">Required: 1-5 images showcasing your project</small>
              <div id="imageCount" class="image-counter">0/5 images selected</div>
            </div>
          </div>

          <!-- Project Details -->
          <div class="form-section">
            <h2 class="section-title">Project Details</h2>
            
            <div class="form-group">
              <label for="projectName">Project Name <span class="required">*</span></label>
              <input type="text" id="projectName" name="projectName" required placeholder="Enter project name" />
            </div>

            <div class="form-group">
              <label for="description">Description</label>
              <textarea id="description" name="description" rows="5" placeholder="Describe your project (purpose, features, outcomes)"></textarea>
            </div>

            <div class="form-group">
              <label for="developers">Developers <span class="required">*</span></label>
              <input type="text" id="developers" name="developers" required placeholder="Comma-separated: Jane Doe, John Doe" />
              <small class="form-hint">Enter developer names separated by commas</small>
            </div>
          </div>

          <!-- Technologies -->
          <div class="form-section">
            <h2 class="section-title">Technologies Used <span class="required">*</span></h2>
            <button type="button" class="tech-selection-btn" id="openTechModal">
              <span id="techBtnText">Select Technologies</span>
              <span>â–¼</span>
            </button>
            <div class="selected-techs" id="selectedTechsDisplay"></div>
          </div>

          <!-- Links -->
          <div class="form-section">
            <h2 class="section-title">Project Links</h2>
            
            <div class="form-group">
              <label for="githubLink">GitHub Repository</label>
              <input type="url" id="githubLink" name="githubLink" placeholder="https://github.com/username/repo" />
            </div>

            <div class="form-group">
              <label for="websiteLink">Live Website</label>
              <input type="url" id="websiteLink" name="websiteLink" placeholder="https://example.com" />
            </div>
          </div>

          <button type="submit" class="btn-submit" id="submitBtn">
            Upload Project
          </button>

          <div class="loading" id="loading" style="display: none;">
            Uploading project...
          </div>
        </form>
      </div>
    </main>

    <!-- Technology Selection Modal -->
    <div class="tech-modal" id="techModal">
      <div class="tech-modal-content">
        <div class="tech-modal-header">
          <h2>Select Technologies</h2>
          <button type="button" class="tech-modal-close" id="closeTechModal">&times;</button>
        </div>
        
        <input 
          type="text" 
          class="tech-search" 
          id="techSearch" 
          placeholder="Search technologies..."
        />
        
        <div class="tech-grid" id="techGrid"></div>
        
        <div class="form-group" id="otherTechGroup" style="display: none;">
          <label for="otherTech">Specify Other Technologies</label>
          <input type="text" id="otherTech" placeholder="Comma-separated: React, Vue, etc." style="width: 100%; padding: 0.875rem 1rem; border: 2px solid rgba(141, 143, 140, 0.2); border-radius: 10px;" />
        </div>
        
        <div class="tech-modal-actions">
          <button type="button" class="btn-modal btn-modal-cancel" id="cancelTechModal">Cancel</button>
          <button type="button" class="btn-modal btn-modal-confirm" id="confirmTechModal">Confirm Selection</button>
        </div>
      </div>
    </div>
    
    <%- include('partials/footer') %>
    <script src="/js/config.js"></script>
    <script src="/js/modal.js"></script>
    <script src="/js/headerAndNavigationBar.js"></script>
    <script src="/js/footer.js"></script>
    <script src="/js/uploadProject.js"></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Verification - Projexia</title>
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/publicHeaderFooter.css" />
    <link rel="stylesheet" href="/css/auth.css" />
    <link rel="stylesheet" href="/css/confirmation.css" />
  </head>
  <body>
    <%- include('partials/publicHeader') %>
    
    <div class="auth-page">
      <div class="auth-container confirmation-container">
        
        <!-- Left Side - Info -->
        <div class="auth-info">
          <div class="auth-info__badge">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
            Email Verification
          </div>
          
          <h1 class="auth-info__title">Almost There!</h1>
          <p class="auth-info__subtitle">
            We've sent a verification code to your email. Enter it below to activate your account and start showcasing your projects.
          </p>
          
          <div class="auth-info__features">
            <div class="feature-item">
              <div class="feature-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
              </div>
              <div class="feature-content">
                <h3>Check Your Email</h3>
                <p>Look for an email from Projexia with your 5-digit code</p>
              </div>
            </div>
            
            <div class="feature-item">
              <div class="feature-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
              </div>
              <div class="feature-content">
                <h3>Code Expires Soon</h3>
                <p>Your verification code is valid for 10 minutes</p>
              </div>
            </div>
            
            <div class="feature-item">
              <div class="feature-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
              </div>
              <div class="feature-content">
                <h3>Secure Verification</h3>
                <p>This ensures only CCS students can join the platform</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Right Side - Form -->
        <div class="auth-form-container">
          <div class="auth-form__header">
            <h2>Enter Verification Code</h2>
            <p>We sent a code to <strong id="emailDisplay" style="color: var(--color-accent);"></strong></p>
          </div>
          
          <div id="errorMessage" class="form-error"></div>
          <div id="successMessage" class="form-success"></div>
          
          <form id="confirmationForm" class="auth-form" novalidate>
            <div class="form-group">
              <label for="otp">5-Digit Code</label>
              <input
                type="text"
                id="otp"
                name="otp"
                class="otp-input"
                maxlength="5"
                pattern="[0-9]{5}"
                required
                placeholder="00000"
                autocomplete="off"
              />
              <small class="form-hint">Enter the code from your email</small>
            </div>

            <div class="attempts-badge" id="attemptsInfo">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              <span>3 attempts remaining</span>
            </div>

            <button type="submit" class="btn-submit" id="submitBtn">
              Verify & Activate Account
            </button>
            
            <div class="loading" id="loading" style="display: none; text-align: center; color: var(--color-neutral);">
              Verifying code...
            </div>
          </form>
          
          <div class="auth-divider">Need help?</div>
          
          <div class="auth-link">
            <p style="margin-bottom: 0.5rem;">Didn't receive the code? Check your spam folder</p>
            <a href="/signup">Sign up again</a> or <a href="/signin">Back to Sign In</a>
          </div>
        </div>
        
      </div>
    </div>
    
    <%- include('partials/publicFooter') %>

    <script src="/js/config.js"></script>
    <script src="/js/publicHeaderFooter.js"></script>
    <script src="/js/confirmation.js"></script>
  </body>
</html>

